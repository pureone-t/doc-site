---
title: Amazon Elasticsearch Service
date: 2018-11-07T17:30:00+09:00
showDate: true
tags: ["elasticsearch"]
---

# LOCAL
```
$ cd elastic_sandbox
$ curl -L -O https://download.elastic.co/elasticsearch/release/org/elasticsearch/distribution/tar/elasticsearch/6.4.3/elasticsearch-6.4.3.tar.gz
```

# LOCAL & Docker
## DockerコンテナでElasticsearchを起動する
- ダウンロード & 起動
```
$ docker pull docker.elastic.co/elasticsearch/elasticsearch:6.2.1
$ docker run -d -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" docker.elastic.co/elasticsearch/elasticsearch:6.2.1
```
- 確認
```
$ docker ps
```
- http://localhost:9200/

## Hoge
```
$ docker exec -it [コンテナ名] /bin/bash
```

# AWS
## Elasticsearch
新しいドメインの作成
- 新しいドメインの定義 -> ドメイン名：movies、 バージョン：最新
- クラスターの設定 -> 
  - ノードの設定 -> インスタンス数：1、 インスタンスタイプ：t2.small.elasticsearch、 専用マスター有効化：OFF、 ゾーン対応の有効化：OFF
  - ストレージ設定 -> ストレージタイプ：EBS、 EBSボリュームタイプ：汎用(SSD)、 EBSボリュームサイズ：１０、 保存時の暗号化の有効化：OFF
  - スナップショットの設定 -> 自動スナップショットの開始時間：デフォルト
- アクセスの設定 -> 
  - ネットワーク構成 -> パブリックアクセス、 ノード間の暗号化：OFF
  - Kibana認証 -> OFF
  - アクセスポリシー -> ドメインアクセスポリシーの設定 -> 特定のIPからのドメインへのアクセスを許可：パブリックIPを入力
